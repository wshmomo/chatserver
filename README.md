# chatserver
可以工作在nginx tcp负载均衡环境中的集群聊天服务器和客户端源码 基于muduo实习

#编译方式

1.cd build

2.rm -rf *

3.cmake ..

4.make 

#特点

1.网络层，业务层，数据层，客户端页面分层设计

2.基于 muduo 网络库开发网络模块ChatServer，实现客户端和服务器之间连接和发送消息

3.使用Mysql，封装接口实现数据层和业务层的连接，将用户数据储存到磁盘中，实现数据持久化

4.使用第三方 JSON 库实现通信数据的序列化和反序列化

5.使用 Nginx 的 TCP 负载均衡功能，将客户端请求分派到多个服务器上，以提高并发处理能力

6.基于发布-订阅的服务器中间件redis消息队列，解决用户跨服务器无法通信问题

7.基于 CMake 构建自动化编译环境，使用git对项目进行版本管理。

#运行

1在bin目录下运行，服务器 ./ChatServer 127.0.0.1 6000  //这里需要给服务器分配ip地址和端口号。这里为了加大并发量, nginx tcp负载均衡可以分配给两台服务器
第二台服务器 ./ChatServer 127.0.0.1 6002

2客户端与nginx tcp负载均衡相连，故客户端 ./ChatClient 127.0.0.1 8000  //这里需要给nginx.conf配置tcp负载均衡，这里的端口设为8000


#注意问题 
1. 在运行前，需要保证你的nginx开着，redis-server开着，这里的nginx应该是8000对应的端口开着，redis应该是

